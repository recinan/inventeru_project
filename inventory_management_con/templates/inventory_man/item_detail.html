{% extends "partials/_base.html" %}
{% load crispy_forms_tags %}

{% block content %}

<div class="container-fluid">
    <button onclick="goBack()" class="btn btn-outline-primary my-3 mx-4">Go Back</button>

    <div class="container text-center">
        <div class="row mt-5 mb-5 justify-content-center">
            <!-- Genişlik daha fazla arttırıldı, col-lg-10 kullanıldı -->
            <div class="col-lg-10 col-md-12 col-12">
                <div class="content-section tutorial-style p-5" style="min-height: 65vh; border: 1px solid #ddd; border-radius: 8px;">
                    <legend class="border-bottom mb-4">Item Information</legend>
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="media mb-4 text-left">
                            <img src="{{item.item_image.url}}" class="img-fluid rounded" alt="Item Image" style="max-width: 250px;">
                            <div class="media-body ml-3">
                                <p class="text-secondary"><strong>Name:</strong> {{form.instance.item_name}}</p>
                                <p class="text-secondary"><strong>Qty:</strong> {{form.instance.quantity}} {{form.instance.unit}} - 
                                    <strong>Price:</strong> {{form.instance.price}} {{form.instance.currency}}</p>
                                <p class="text-secondary"><strong>Description:</strong> {{form.instance.description}}</p>
                                <p class="text-secondary"><strong>Category:</strong> {{item.category}} - 
                                    <strong>Warehouse:</strong> {{item.warehouse}}</p>
                            </div>
                        </div>

                        <fieldset class="form-group">
                            <legend class="border-bottom mb-4">Edit Item</legend>
                            <div class="form-group">
                                {{ form.item_image|as_crispy_field }}
                            </div>
                            <div class="form-group">
                                {{ form.item_name|as_crispy_field }}
                            </div>
                            <div class="form-group row">
                                <div class="col-md-6 col-12">
                                    {{ form.quantity|as_crispy_field }}
                                </div>
                                <div class="col-md-6 col-12">
                                    {{ form.unit|as_crispy_field }}
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-6 col-12">
                                    {{ form.price|as_crispy_field }}
                                </div>
                                <div class="col-md-6 col-12">
                                    {{ form.currency|as_crispy_field }}
                                </div>
                            </div>
                            <div class="form-group">
                                {{ form.description|as_crispy_field }}
                            </div>
                        </fieldset>

                        <div class="form-group text-center">
                            <button class="btn btn-outline-info w-100" type="submit">Update</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
